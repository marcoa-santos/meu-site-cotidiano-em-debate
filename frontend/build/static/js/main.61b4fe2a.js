/*! For license information please see main.61b4fe2a.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var r=n(853),a=n(43),l=n(950);function o(e){var t="https://7a8d90a0-f471-4d33-9da2-4d2ccc8accda.preview.emergentagent.com";Rt.interceptors.response.use((e=>e),(e=>{var t;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&localStorage.getItem("token")&&(localStorage.removeItem("token"),alert("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),window.location.reload()),Promise.reject(e)}));const Lt=["Articles","Extended Abstracts","Projects","Books","Book Chapters","Videocasts"],Dt=e=>{let{currentView:t,setCurrentView:n,isAuthenticated:r,logout:a}=e;return(0,zt.jsx)("header",{className:"bg-gradient-to-r from-blue-900 to-indigo-800 text-white shadow-lg",children:(0,zt.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,zt.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center",children:[(0,zt.jsx)("h1",{className:"text-3xl font-bold mb-4 md:mb-0 cursor-pointer",onClick:()=>n("home"),children:"\ud83d\udcda Reposit\xf3rio Cotidiano em Debate"}),(0,zt.jsxs)("nav",{className:"flex flex-wrap gap-2 md:gap-4",children:[(0,zt.jsx)("button",{onClick:()=>n("home"),className:"px-4 py-2 rounded-lg transition-colors ".concat("home"===t?"bg-white text-blue-900":"hover:bg-blue-800"),children:"In\xedcio"}),(0,zt.jsx)("button",{onClick:()=>n("products"),className:"px-4 py-2 rounded-lg transition-colors ".concat("products"===t?"bg-white text-blue-900":"hover:bg-blue-800"),children:"Produtos"}),(0,zt.jsx)("a",{href:"https://open.spotify.com/show/7mesJaWQRoziSPuBdl2UGJ",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg transition-colors hover:bg-blue-800 flex items-center gap-1",children:"\ud83c\udf99\ufe0f PODCAST"}),r?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("button",{onClick:()=>n("admin"),className:"px-4 py-2 rounded-lg transition-colors ".concat("admin"===t?"bg-white text-blue-900":"hover:bg-blue-800"),children:"Admin"}),(0,zt.jsx)("button",{onClick:a,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 transition-colors",children:"Sair"})]}):(0,zt.jsx)("button",{onClick:()=>n("login"),className:"px-4 py-2 rounded-lg transition-colors ".concat("login"===t?"bg-white text-blue-900":"hover:bg-blue-800"),children:"Login Admin"})]})]})})})},Ft=e=>{let{filters:t,setFilters:n,onSearch:r}=e;return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[(0,zt.jsx)("input",{type:"text",placeholder:"Buscar por t\xedtulo, resumo ou palavras-chave...",value:t.search,onChange:e=>n(c(c({},t),{},{search:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,zt.jsxs)("select",{value:t.productType,onChange:e=>n(c(c({},t),{},{productType:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,zt.jsx)("option",{value:"",children:"Todos os tipos"}),Lt.map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))]}),(0,zt.jsx)("input",{type:"text",placeholder:"Autor...",value:t.author,onChange:e=>n(c(c({},t),{},{author:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,zt.jsx)("input",{type:"number",placeholder:"Ano...",value:t.year,onChange:e=>n(c(c({},t),{},{year:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,zt.jsx)("button",{onClick:r,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Buscar"})]})},Ut=e=>{let{newsItem:t,onClick:n}=e;return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:n,children:[t.image_file&&(0,zt.jsx)("div",{className:"h-48 overflow-hidden",children:(0,zt.jsx)("img",{src:"".concat(At,"/api/image/").concat(t.image_file),alt:t.title,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"})}),(0,zt.jsxs)("div",{className:"p-6",children:[(0,zt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,zt.jsx)("span",{className:"bg-green-100 text-green-800 text-xs font-semibold px-2 py-1 rounded-full",children:t.category}),(0,zt.jsx)("span",{className:"text-xs text-gray-500",children:new Date(t.created_at).toLocaleDateString("pt-BR")})]}),(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:t.title}),(0,zt.jsx)("p",{className:"text-gray-700 mb-3 line-clamp-3",children:t.content}),(0,zt.jsxs)("div",{className:"text-sm text-gray-500",children:["Por: ",t.author]})]})]})},Mt=e=>{let{news:t,onBack:n}=e;return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-4xl mx-auto",children:[(0,zt.jsx)("button",{onClick:n,className:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:"\u2190 Voltar"}),(0,zt.jsx)("div",{className:"mb-6",children:(0,zt.jsx)("span",{className:"bg-green-100 text-green-800 text-sm font-semibold px-3 py-1 rounded-full",children:t.category})}),(0,zt.jsx)("h1",{className:"text-3xl font-bold mb-4 text-gray-800",children:t.title}),t.image_file&&(0,zt.jsx)("div",{className:"mb-6",children:(0,zt.jsx)("img",{src:"".concat(At,"/api/image/").concat(t.image_file),alt:t.title,className:"w-full max-h-96 object-cover rounded-lg shadow-md"})}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Autor:"}),(0,zt.jsx)("p",{className:"text-gray-600",children:t.author})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Data de Publica\xe7\xe3o:"}),(0,zt.jsx)("p",{className:"text-gray-600",children:new Date(t.created_at).toLocaleDateString("pt-BR",{year:"numeric",month:"long",day:"numeric"})})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Conte\xfado:"}),(0,zt.jsx)("div",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.content})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"\ud83d\udce2 Compartilhar:"}),(0,zt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,zt.jsx)("a",{href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t.title),"&url=").concat(encodeURIComponent(window.location.href),"&hashtags=academico,noticias"),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:"\ud83d\udc26 Twitter"}),(0,zt.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(window.location.href)),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:"\ud83d\udcd8 Facebook"}),(0,zt.jsx)("a",{href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(window.location.href)),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:"\ud83d\udcbc LinkedIn"}),(0,zt.jsx)("a",{href:"https://wa.me/?text=".concat(encodeURIComponent(t.title+" - "+window.location.href)),target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:"\ud83d\udcf1 WhatsApp"}),(0,zt.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:t.title,text:t.content.substring(0,100)+"...",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copiado para a \xe1rea de transfer\xeancia!"))},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:"\ud83d\udd17 Copiar Link"})]})]}),(0,zt.jsxs)("div",{className:"border-t pt-6 flex justify-between items-center text-sm text-gray-500",children:[(0,zt.jsxs)("span",{children:["\ud83d\udcc5 Criado em: ",new Date(t.created_at).toLocaleDateString("pt-BR")]}),(0,zt.jsxs)("span",{children:["\u270f\ufe0f Atualizado em: ",new Date(t.updated_at).toLocaleDateString("pt-BR")]})]})]})},It=e=>{let{product:t,onClick:n}=e;return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(t),children:[(0,zt.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,zt.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold px-2 py-1 rounded-full",children:t.product_type}),t.doi&&(0,zt.jsxs)("span",{className:"text-xs text-gray-500",children:["DOI: ",t.doi]})]}),(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:t.title}),(0,zt.jsx)("p",{className:"text-gray-600 mb-3 line-clamp-3",children:t.authors.join(", ")}),(0,zt.jsx)("p",{className:"text-gray-700 mb-4 line-clamp-3",children:t.abstract}),(0,zt.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[(0,zt.jsxs)("span",{children:["\ud83d\udc41 ",t.view_count," visualiza\xe7\xf5es"]}),(0,zt.jsxs)("span",{children:["\ud83d\udce5 ",t.download_count," downloads"]}),t.publication_year&&(0,zt.jsx)("span",{children:t.publication_year})]})]})},Bt=e=>{let{product:t,onBack:n}=e;return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-4xl mx-auto",children:[(0,zt.jsx)("button",{onClick:n,className:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition-colors",children:"\u2190 Voltar"}),(0,zt.jsx)("div",{className:"mb-6",children:(0,zt.jsx)("span",{className:"bg-blue-100 text-blue-800 text-sm font-semibold px-3 py-1 rounded-full",children:t.product_type})}),(0,zt.jsx)("h1",{className:"text-3xl font-bold mb-4 text-gray-800",children:t.title}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Autores:"}),(0,zt.jsx)("p",{className:"text-gray-600",children:t.authors.join(", ")})]}),t.doi&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"DOI:"}),(0,zt.jsx)("a",{href:"https://doi.org/".concat(t.doi),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors",children:t.doi})]}),t.journal&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Revista/Confer\xeancia:"}),(0,zt.jsx)("p",{className:"text-gray-600",children:t.journal})]}),t.publication_year&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Ano de Publica\xe7\xe3o:"}),(0,zt.jsx)("p",{className:"text-gray-600",children:t.publication_year})]}),t.url&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"URL Externa:"}),(0,zt.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 transition-colors break-all",children:t.url})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Resumo:"}),(0,zt.jsx)("p",{className:"text-gray-700 leading-relaxed",children:t.abstract})]}),t.keywords&&t.keywords.length>0&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-2 text-gray-700",children:"Palavras-chave:"}),(0,zt.jsx)("div",{className:"flex flex-wrap gap-2",children:t.keywords.map(((e,t)=>(0,zt.jsx)("span",{className:"bg-gray-100 text-gray-700 px-2 py-1 rounded text-sm",children:e},t)))})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"\ud83d\udce2 Compartilhar:"}),(0,zt.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,zt.jsx)("a",{href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t.title),"&url=").concat(encodeURIComponent(window.location.href),"&hashtags=pesquisa,academico"),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2",children:"\ud83d\udc26 Twitter"}),(0,zt.jsx)("a",{href:"https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(window.location.href)),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-700 text-white px-4 py-2 rounded-lg hover:bg-blue-800 transition-colors flex items-center gap-2",children:"\ud83d\udcd8 Facebook"}),(0,zt.jsx)("a",{href:"https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(window.location.href)),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:"\ud83d\udcbc LinkedIn"}),(0,zt.jsx)("a",{href:"https://www.researchgate.net/share.ShareRequest.html?url=".concat(encodeURIComponent(window.location.href),"&title=").concat(encodeURIComponent(t.title)),target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:"\ud83d\udd2c ResearchGate"}),(0,zt.jsx)("button",{onClick:()=>{navigator.share?navigator.share({title:t.title,text:t.abstract.substring(0,100)+"...",url:window.location.href}):(navigator.clipboard.writeText(window.location.href),alert("Link copiado para a \xe1rea de transfer\xeancia!"))},className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2",children:"\ud83d\udd17 Copiar Link"})]})]}),t.audio_file&&(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h3",{className:"text-lg font-semibold mb-3 text-gray-700",children:"\ud83c\udfb5 \xc1udio do Produto:"}),(0,zt.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,zt.jsxs)("audio",{controls:!0,className:"w-full mb-3",preload:"metadata",children:[(0,zt.jsx)("source",{src:"".concat(At,"/api/download/").concat(t.id,"/audio"),type:"audio/wav"}),(0,zt.jsx)("source",{src:"".concat(At,"/api/download/").concat(t.id,"/audio"),type:"audio/mpeg"}),"Seu navegador n\xe3o suporta o elemento de \xe1udio."]}),(0,zt.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-600",children:[(0,zt.jsx)("span",{children:"Formato: WAV"}),(0,zt.jsx)("a",{href:"".concat(At,"/api/download/").concat(t.id,"/audio"),className:"text-blue-600 hover:text-blue-800 transition-colors",download:!0,children:"\ud83d\udce5 Baixar \xc1udio"})]})]})]}),(0,zt.jsxs)("div",{className:"flex flex-wrap gap-4 mb-6",children:[t.document_file&&(0,zt.jsx)("a",{href:"".concat(At,"/api/download/").concat(t.id,"/document"),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",download:!0,children:"\ud83d\udcc4 Baixar Documento"}),t.url&&(0,zt.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:"\ud83d\udd17 Ver Online"})]}),(0,zt.jsxs)("div",{className:"border-t pt-6 flex justify-between items-center text-sm text-gray-500",children:[(0,zt.jsxs)("span",{children:["\ud83d\udc41 ",t.view_count," visualiza\xe7\xf5es"]}),(0,zt.jsxs)("span",{children:["\ud83d\udce5 ",t.download_count," downloads"]}),(0,zt.jsxs)("span",{children:["Criado em: ",new Date(t.created_at).toLocaleDateString("pt-BR")]})]})]})},qt=e=>{let{onLogin:t}=e;const[n,r]=(0,a.useState)({username:"",password:""}),[l,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)("");return(0,zt.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Login Administrativo"}),(0,zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),s("");try{const e=await Rt.post("".concat(At,"/api/auth/login"),n);localStorage.setItem("token",e.data.access_token),t(e.data.access_token)}catch(i){s("Credenciais inv\xe1lidas")}finally{o(!1)}},children:[(0,zt.jsxs)("div",{className:"mb-4",children:[(0,zt.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Usu\xe1rio"}),(0,zt.jsx)("input",{type:"text",value:n.username,onChange:e=>r(c(c({},n),{},{username:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Senha"}),(0,zt.jsx)("input",{type:"password",value:n.password,onChange:e=>r(c(c({},n),{},{password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i&&(0,zt.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:i}),(0,zt.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"Entrando...":"Entrar"})]})]})},Vt=e=>{let{product:t,onSave:n,onCancel:r,token:l}=e;const[o,i]=(0,a.useState)({title:(null===t||void 0===t?void 0:t.title)||"",authors:(null===t||void 0===t?void 0:t.authors)||[""],abstract:(null===t||void 0===t?void 0:t.abstract)||"",product_type:(null===t||void 0===t?void 0:t.product_type)||"",doi:(null===t||void 0===t?void 0:t.doi)||"",publication_year:(null===t||void 0===t?void 0:t.publication_year)||"",journal:(null===t||void 0===t?void 0:t.journal)||"",keywords:(null===t||void 0===t?void 0:t.keywords)||[""],url:(null===t||void 0===t?void 0:t.url)||""}),[s,u]=(0,a.useState)({document_file:null,audio_file:null}),[d,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)(!1),h=(e,t,n)=>{const r=[...o[e]];r[t]=n,i(c(c({},o),{},{[e]:r}))},g=e=>{i(c(c({},o),{},{[e]:[...o[e],""]}))},b=(e,t)=>{const n=o[e].filter(((e,n)=>n!==t));i(c(c({},o),{},{[e]:n}))};return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-4xl mx-auto",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:t?"Editar Produto":"Novo Produto"}),(0,zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{const e=new FormData;e.append("title",o.title),e.append("authors",JSON.stringify(o.authors.filter((e=>e.trim())))),e.append("abstract",o.abstract),e.append("product_type",o.product_type),o.doi&&e.append("doi",o.doi),o.publication_year&&e.append("publication_year",o.publication_year),o.journal&&e.append("journal",o.journal),e.append("keywords",JSON.stringify(o.keywords.filter((e=>e.trim())))),o.url&&e.append("url",o.url),s.document_file&&e.append("document_file",s.document_file),s.audio_file&&e.append("audio_file",s.audio_file);const t={headers:{Authorization:"Bearer ".concat(l),"Content-Type":"multipart/form-data"}};await Rt.post("".concat(At,"/api/products"),e,t),n()}catch(a){var t,r;alert("Erro ao salvar produto: "+((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||a.message))}finally{f(!1)}},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"DOI (opcional)"}),(0,zt.jsxs)("div",{className:"flex gap-2",children:[(0,zt.jsx)("input",{type:"text",value:o.doi,onChange:e=>i(c(c({},o),{},{doi:e.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10.1000/182"}),(0,zt.jsxs)("button",{type:"button",onClick:async()=>{if(o.doi){m(!0);try{const e=(await Rt.get("".concat(At,"/api/doi-metadata/").concat(encodeURIComponent(o.doi)))).data;i(c(c({},o),{},{title:e.title||o.title,authors:e.authors.length>0?e.authors:o.authors,journal:e.journal||o.journal,publication_year:e.publication_year||o.publication_year,abstract:e.abstract||o.abstract,url:e.url||o.url}))}catch(e){alert("Erro ao buscar metadados do DOI. Verifique se o DOI est\xe1 correto.")}finally{m(!1)}}},disabled:p||!o.doi,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:[p?"\ud83d\udd04":"\ud83d\udd0d"," Buscar Metadados"]})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo *"}),(0,zt.jsx)("input",{type:"text",value:o.title,onChange:e=>i(c(c({},o),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Produto *"}),(0,zt.jsxs)("select",{value:o.product_type,onChange:e=>i(c(c({},o),{},{product_type:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,zt.jsx)("option",{value:"",children:"Selecione um tipo"}),Lt.map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autores *"}),o.authors.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,zt.jsx)("input",{type:"text",value:e,onChange:e=>h("authors",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Nome do autor"}),o.authors.length>1&&(0,zt.jsx)("button",{type:"button",onClick:()=>b("authors",t),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"\u274c"})]},t))),(0,zt.jsx)("button",{type:"button",onClick:()=>g("authors"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ Adicionar Autor"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resumo *"}),(0,zt.jsx)("textarea",{value:o.abstract,onChange:e=>i(c(c({},o),{},{abstract:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:6,required:!0})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ano de Publica\xe7\xe3o"}),(0,zt.jsx)("input",{type:"number",value:o.publication_year,onChange:e=>i(c(c({},o),{},{publication_year:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1900",max:"2030"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Revista/Confer\xeancia"}),(0,zt.jsx)("input",{type:"text",value:o.journal,onChange:e=>i(c(c({},o),{},{journal:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Palavras-chave"}),o.keywords.map(((e,t)=>(0,zt.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,zt.jsx)("input",{type:"text",value:e,onChange:e=>h("keywords",t,e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Palavra-chave"}),o.keywords.length>1&&(0,zt.jsx)("button",{type:"button",onClick:()=>b("keywords",t),className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"\u274c"})]},t))),(0,zt.jsx)("button",{type:"button",onClick:()=>g("keywords"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ Adicionar Palavra-chave"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"URL Externa"}),(0,zt.jsx)("input",{type:"url",value:o.url,onChange:e=>i(c(c({},o),{},{url:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"https://..."})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo do Documento (PDF, DOC, DOCX - Max 10MB)"}),(0,zt.jsx)("input",{type:"file",accept:".pdf,.doc,.docx",onChange:e=>u(c(c({},s),{},{document_file:e.target.files[0]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Arquivo de \xc1udio (WAV - Max 10MB)"}),(0,zt.jsx)("input",{type:"file",accept:".wav",onChange:e=>u(c(c({},s),{},{audio_file:e.target.files[0]})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(0,zt.jsxs)("div",{className:"flex gap-4",children:[(0,zt.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:d?"Salvando...":"Salvar Produto"}),(0,zt.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]})]})},Ht=e=>{let{news:t,onSave:n,onCancel:r,token:l}=e;const[o,i]=(0,a.useState)({title:(null===t||void 0===t?void 0:t.title)||"",content:(null===t||void 0===t?void 0:t.content)||"",category:(null===t||void 0===t?void 0:t.category)||"Geral",author:(null===t||void 0===t?void 0:t.author)||"Cotidiano em Debate"}),[s,u]=(0,a.useState)(null),[d,f]=(0,a.useState)(!1);return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-4xl mx-auto",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:t?"Editar Not\xedcia":"Nova Not\xedcia"}),(0,zt.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{const e=new FormData;e.append("title",o.title),e.append("content",o.content),e.append("category",o.category),e.append("author",o.author),s&&e.append("image_file",s);const r={headers:{Authorization:"Bearer ".concat(l),"Content-Type":"multipart/form-data"}};t?await Rt.put("".concat(At,"/api/news/").concat(t.id),e,r):await Rt.post("".concat(At,"/api/news"),e,r),n()}catch(u){var r;if(console.error("Error saving news:",u),401===(null===(r=u.response)||void 0===r?void 0:r.status))localStorage.removeItem("token"),alert("Sua sess\xe3o expirou. Por favor, fa\xe7a login novamente."),window.location.reload();else{var a,i;const e=(null===(a=u.response)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.detail)||u.message||"Erro desconhecido";alert("Erro ao salvar not\xedcia: "+e)}}finally{f(!1)}},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"T\xedtulo *"}),(0,zt.jsx)("input",{type:"text",value:o.title,onChange:e=>i(c(c({},o),{},{title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"T\xedtulo da not\xedcia"})]}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categoria *"}),(0,zt.jsx)("select",{value:o.category,onChange:e=>i(c(c({},o),{},{category:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:["Geral","Tecnologia","Funcionalidade","Evento","Publica\xe7\xe3o","Atualiza\xe7\xe3o"].map((e=>(0,zt.jsx)("option",{value:e,children:e},e)))})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Autor *"}),(0,zt.jsx)("input",{type:"text",value:o.author,onChange:e=>i(c(c({},o),{},{author:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,placeholder:"Nome do autor"})]})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcf7 Imagem da Not\xedcia (JPG, PNG - Max 5MB)"}),(0,zt.jsx)("input",{type:"file",accept:".jpg,.jpeg,.png,.gif",onChange:e=>u(e.target.files[0]),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,zt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Opcional: Adicione uma imagem para ilustrar a not\xedcia"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Conte\xfado *"}),(0,zt.jsx)("textarea",{value:o.content,onChange:e=>i(c(c({},o),{},{content:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-y",rows:8,required:!0,placeholder:"Escreva o conte\xfado da not\xedcia aqui..."})]}),(0,zt.jsxs)("div",{className:"flex gap-4",children:[(0,zt.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:d?"Salvando...":"Salvar Not\xedcia"}),(0,zt.jsx)("button",{type:"button",onClick:r,className:"px-6 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]})]})},$t=e=>{let{token:t}=e;const[n,r]=(0,a.useState)({current_password:"",new_password:"",confirm_password:""}),[l,o]=(0,a.useState)(!1),[i,s]=(0,a.useState)(""),[u,d]=(0,a.useState)("");return(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md mx-auto",children:[(0,zt.jsx)("h3",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Alterar Senha"}),(0,zt.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o(!0),s(""),d(""),n.new_password!==n.confirm_password)return d("As senhas n\xe3o conferem"),void o(!1);if(n.new_password.length<6)return d("A nova senha deve ter pelo menos 6 caracteres"),void o(!1);try{const e={headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}};await Rt.post("".concat(At,"/api/auth/change-password"),{current_password:n.current_password,new_password:n.new_password},e),s("Senha alterada com sucesso!"),r({current_password:"",new_password:"",confirm_password:""})}catch(u){var a,l;if(console.error("Error changing password:",u),401===(null===(a=u.response)||void 0===a?void 0:a.status))d("Sess\xe3o expirada. Por favor, fa\xe7a login novamente."),setTimeout((()=>{localStorage.removeItem("token"),window.location.reload()}),2e3);else if(400===(null===(l=u.response)||void 0===l?void 0:l.status))d("Senha atual incorreta");else{var i,c;const t=(null===(i=u.response)||void 0===i||null===(c=i.data)||void 0===c?void 0:c.detail)||u.message||"Erro desconhecido";d("Erro ao alterar senha: "+t)}}finally{o(!1)}},className:"space-y-6",children:[(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha Atual *"}),(0,zt.jsx)("input",{type:"password",value:n.current_password,onChange:e=>r(c(c({},n),{},{current_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nova Senha *"}),(0,zt.jsx)("input",{type:"password",value:n.new_password,onChange:e=>r(c(c({},n),{},{new_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,minLength:6}),(0,zt.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"M\xednimo de 6 caracteres"})]}),(0,zt.jsxs)("div",{children:[(0,zt.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Nova Senha *"}),(0,zt.jsx)("input",{type:"password",value:n.confirm_password,onChange:e=>r(c(c({},n),{},{confirm_password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i&&(0,zt.jsx)("div",{className:"p-3 bg-green-100 border border-green-400 text-green-700 rounded",children:i}),u&&(0,zt.jsx)("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:u}),(0,zt.jsx)("button",{type:"submit",disabled:l,className:"w-full bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:l?"Alterando...":"Alterar Senha"})]})]})},Wt=e=>{let{token:t}=e;const[n,r]=(0,a.useState)([]),[l,o]=(0,a.useState)([]),[i,s]=(0,a.useState)(null),[u,c]=(0,a.useState)("dashboard"),[d,f]=(0,a.useState)(null),[p,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(null),[b,y]=(0,a.useState)(!1),[v,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{t&&w()}),[t]);const w=async()=>{x(!0);try{const[e,t,n]=await Promise.all([Rt.get("".concat(At,"/api/products")),Rt.get("".concat(At,"/api/news")),Rt.get("".concat(At,"/api/stats"))]);r(e.data),o(t.data),s(n.data)}catch(e){console.error("Error loading data:",e)}finally{x(!1)}};return v?(0,zt.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,zt.jsx)("div",{className:"text-xl",children:"Carregando..."})}):(0,zt.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,zt.jsxs)("div",{className:"mb-6",children:[(0,zt.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Painel Administrativo"}),(0,zt.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,zt.jsx)("button",{onClick:()=>c("dashboard"),className:"px-4 py-2 rounded-lg transition-colors ".concat("dashboard"===u?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Dashboard"}),(0,zt.jsx)("button",{onClick:()=>c("products"),className:"px-4 py-2 rounded-lg transition-colors ".concat("products"===u?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Produtos"}),(0,zt.jsx)("button",{onClick:()=>c("news"),className:"px-4 py-2 rounded-lg transition-colors ".concat("news"===u?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Not\xedcias"}),(0,zt.jsx)("button",{onClick:()=>c("settings"),className:"px-4 py-2 rounded-lg transition-colors ".concat("settings"===u?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Configura\xe7\xf5es"})]})]}),p&&(0,zt.jsx)(Vt,{product:d,onSave:()=>{m(!1),f(null),w()},onCancel:()=>{m(!1),f(null)},token:t}),b&&(0,zt.jsx)(Ht,{news:h,onSave:()=>{y(!1),g(null),w()},onCancel:()=>{y(!1),g(null)},token:t}),!p&&!b&&(0,zt.jsxs)(zt.Fragment,{children:["dashboard"===u&&i&&(0,zt.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Total de Produtos"}),(0,zt.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:i.total_products})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Total de Not\xedcias"}),(0,zt.jsx)("p",{className:"text-3xl font-bold text-green-600",children:i.total_news})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Tipos de Produtos"}),(0,zt.jsx)("div",{className:"space-y-1",children:Object.entries(i.product_types).map((e=>{let[t,n]=e;return(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsxs)("span",{className:"text-gray-600",children:[t,":"]}),(0,zt.jsx)("span",{className:"font-semibold",children:n})]},t)}))})]})]}),"products"===u&&(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-semibold text-gray-800",children:"Gerenciar Produtos"}),(0,zt.jsx)("button",{onClick:()=>m(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ Novo Produto"})]}),(0,zt.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"w-full",children:[(0,zt.jsx)("thead",{className:"bg-gray-50",children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Autores"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Visualiza\xe7\xf5es"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((e=>(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:e.title})}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zt.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:e.product_type})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm text-gray-900 line-clamp-1",children:e.authors.join(", ")})}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.view_count}),(0,zt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,zt.jsx)("button",{onClick:()=>{f(e),m(!0)},className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Editar"}),(0,zt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este produto?"))try{await Rt.delete("".concat(At,"/api/products/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),w()}catch(a){var n,r;alert("Erro ao excluir produto: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message))}})(e.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id)))})]})})})]}),"news"===u&&(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,zt.jsx)("h3",{className:"text-2xl font-semibold text-gray-800",children:"Gerenciar Not\xedcias"}),(0,zt.jsx)("button",{onClick:()=>y(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"+ Nova Not\xedcia"})]}),(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,zt.jsx)("div",{className:"overflow-x-auto",children:(0,zt.jsxs)("table",{className:"w-full",children:[(0,zt.jsx)("thead",{className:"bg-gray-50",children:(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Autor"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,zt.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,zt.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((e=>(0,zt.jsxs)("tr",{children:[(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm font-medium text-gray-900 line-clamp-2",children:e.title})}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,zt.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:e.category})}),(0,zt.jsx)("td",{className:"px-6 py-4",children:(0,zt.jsx)("div",{className:"text-sm text-gray-900",children:e.author})}),(0,zt.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("pt-BR")}),(0,zt.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,zt.jsx)("button",{onClick:()=>{g(e),y(!0)},className:"text-indigo-600 hover:text-indigo-900 mr-3",children:"Editar"}),(0,zt.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir esta not\xedcia?"))try{await Rt.delete("".concat(At,"/api/news/").concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),w()}catch(a){var n,r;alert("Erro ao excluir not\xedcia: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message))}})(e.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id)))})]})}),0===l.length&&(0,zt.jsxs)("div",{className:"text-center py-12",children:[(0,zt.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udcf0"}),(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-600",children:"Nenhuma not\xedcia criada"}),(0,zt.jsx)("p",{className:"text-gray-500 mb-4",children:"Crie sua primeira not\xedcia clicando no bot\xe3o acima."})]})]})]}),"settings"===u&&(0,zt.jsxs)("div",{children:[(0,zt.jsx)("h3",{className:"text-2xl font-semibold text-gray-800 mb-6",children:"Configura\xe7\xf5es do Sistema"}),(0,zt.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,zt.jsx)("div",{children:(0,zt.jsx)($t,{token:t})}),(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,zt.jsx)("h4",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Informa\xe7\xf5es do Sistema"}),(0,zt.jsxs)("div",{className:"space-y-3",children:[(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"text-gray-600",children:"Reposit\xf3rio:"}),(0,zt.jsx)("span",{className:"font-semibold",children:"Cotidiano em Debate"})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"text-gray-600",children:"Vers\xe3o:"}),(0,zt.jsx)("span",{className:"font-semibold",children:"1.0.0"})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"text-gray-600",children:"Usu\xe1rio Logado:"}),(0,zt.jsx)("span",{className:"font-semibold",children:"admin"})]}),(0,zt.jsxs)("div",{className:"flex justify-between",children:[(0,zt.jsx)("span",{className:"text-gray-600",children:"\xdaltima Atualiza\xe7\xe3o:"}),(0,zt.jsx)("span",{className:"font-semibold",children:(new Date).toLocaleDateString("pt-BR")})]})]}),(0,zt.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,zt.jsx)("h5",{className:"text-lg font-semibold mb-3 text-gray-800",children:"Funcionalidades Ativas"}),(0,zt.jsxs)("div",{className:"space-y-2",children:[(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-sm text-gray-600",children:"Sistema de Upload de Arquivos"})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-sm text-gray-600",children:"Integra\xe7\xe3o DOI CrossRef"})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-sm text-gray-600",children:"Player de \xc1udio"})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-sm text-gray-600",children:"Compartilhamento Social"})]}),(0,zt.jsxs)("div",{className:"flex items-center gap-2",children:[(0,zt.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,zt.jsx)("span",{className:"text-sm text-gray-600",children:"Sistema de Not\xedcias com Imagens"})]})]})]})]})]})]})]})]})};const Qt=function(){const[e,t]=(0,a.useState)("home"),[n,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(null),[i,s]=(0,a.useState)(null),[u,d]=(0,a.useState)([]),[f,p]=(0,a.useState)(!1),[m,h]=(0,a.useState)(localStorage.getItem("token")),[g,b]=(0,a.useState)({search:"",productType:"",author:"",year:""});(0,a.useEffect)((()=>{"products"!==e&&"home"!==e||y(),"home"===e&&v()}),[e]);const y=async()=>{p(!0);try{const e=await Rt.get("".concat(At,"/api/products"),{params:{product_type:g.productType||void 0,search:g.search||void 0,author:g.author||void 0,year:g.year||void 0}});r(e.data)}catch(e){console.error("Error loading products:",e)}finally{p(!1)}},v=async()=>{try{const e=await Rt.get("".concat(At,"/api/news"));d(e.data)}catch(e){console.error("Error loading news:",e)}},x=async e=>{try{const t=await Rt.get("".concat(At,"/api/products/").concat(e.id));o(t.data)}catch(t){console.error("Error loading product details:",t)}};return(0,zt.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,zt.jsx)(Dt,{currentView:e,setCurrentView:t,isAuthenticated:!!m,logout:()=>{localStorage.removeItem("token"),h(null),t("home")}}),(0,zt.jsxs)("main",{className:"container mx-auto px-4 py-8",children:["home"===e&&(0,zt.jsx)("div",{children:l?(0,zt.jsx)(Bt,{product:l,onBack:()=>o(null)}):i?(0,zt.jsx)(Mt,{news:i,onBack:()=>s(null)}):(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:Lt.map(((e,n)=>(0,zt.jsxs)("button",{onClick:()=>{b(c(c({},g),{},{productType:e})),t("products")},className:"bg-white rounded-lg p-4 text-center hover:shadow-lg transition-shadow border border-gray-200",children:[(0,zt.jsx)("div",{className:"text-2xl mb-2",children:["\ud83d\udcc4","\ud83d\udcdd","\ud83d\udd2c","\ud83d\udcda","\ud83d\udcd6","\ud83c\udfa5"][n]}),(0,zt.jsx)("div",{className:"text-sm font-medium text-gray-700",children:e})]},e)))}),(0,zt.jsxs)("div",{className:"mb-8",children:[(0,zt.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,zt.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"\ud83d\udcf0 \xdaltimas Not\xedcias e Atualiza\xe7\xf5es"})}),u.length>0?(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.slice(0,6).map((e=>(0,zt.jsx)(Ut,{newsItem:e,onClick:()=>s(e)},e.id)))}):(0,zt.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,zt.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udcf0"}),(0,zt.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-600",children:"Nenhuma not\xedcia ainda"}),(0,zt.jsx)("p",{className:"text-gray-500",children:"As \xfaltimas atualiza\xe7\xf5es e not\xedcias ser\xe3o publicadas aqui."})]})]}),(0,zt.jsxs)("div",{className:"mb-8",children:[(0,zt.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800",children:"Produtos Recentes"}),(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.slice(0,6).map((e=>(0,zt.jsx)(It,{product:e,onClick:x},e.id)))})]})]})}),"products"===e&&(0,zt.jsx)("div",{children:l?(0,zt.jsx)(Bt,{product:l,onBack:()=>o(null)}):(0,zt.jsxs)("div",{children:[(0,zt.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 text-white rounded-2xl p-8 mb-8",children:(0,zt.jsxs)("div",{className:"max-w-3xl",children:[(0,zt.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Reposit\xf3rio Cotidiano em Debate"}),(0,zt.jsx)("p",{className:"text-xl mb-6",children:"Explore nossa cole\xe7\xe3o de artigos cient\xedficos, projetos, livros e outros produtos acad\xeamicos. Navegue por categoria, busque por palavras-chave ou autores."})]})}),(0,zt.jsx)("h1",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Produtos Acad\xeamicos"}),(0,zt.jsx)(Ft,{filters:g,setFilters:b,onSearch:()=>{y()}}),f?(0,zt.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,zt.jsx)("div",{className:"text-xl",children:"Carregando..."})}):(0,zt.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e=>(0,zt.jsx)(It,{product:e,onClick:x},e.id)))}),0===n.length&&!f&&(0,zt.jsx)("div",{className:"text-center py-12",children:(0,zt.jsx)("p",{className:"text-gray-600 text-lg",children:"Nenhum produto encontrado. Ajuste seus filtros ou try again."})})]})}),"login"===e&&(0,zt.jsx)(qt,{onLogin:e=>{h(e),t("admin")}}),"admin"===e&&m&&(0,zt.jsx)(Wt,{token:m})]})]})};l.createRoot(document.getElementById("root")).render((0,zt.jsx)(a.StrictMode,{children:(0,zt.jsx)(Qt,{})}))})();
//# sourceMappingURL=main.61b4fe2a.js.map